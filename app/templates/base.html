<!DOCTYPE html>
<html lang="en" data-theme="light">

<head>
  <meta charset="utf-8">
  <meta name="viewport" content="width=device-width, initial-scale=1">

  <title>{% block title %}Leave Management System{% endblock %}</title>

  <!-- Favicon -->
  <link rel="icon" href="{{ url_for('static', filename='favicon.ico') }}">

  <!-- Fonts: Inter -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link href="https://fonts.googleapis.com/css2?family=Inter:wght@400;500;600;700&display=swap" rel="stylesheet">

  <!-- Bootstrap CSS -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/css/bootstrap.min.css"
    crossorigin="anonymous">

  <!-- Bootstrap Icons (added, no SRI to avoid blocking in dev) -->
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.11.3/font/bootstrap-icons.css"
    crossorigin="anonymous">

  <!-- Custom Styles -->
  <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">

  {% block head_extras %}{% endblock %}
</head>

<body>
  <!-- Skip to main content for accessibility -->
  <a href="#main-content" class="skip-link">Skip to main content</a>

  <!-- Navbar -->
  <nav class="navbar navbar-expand-lg navbar-light app-header-gradient shadow-sm">
    <div class="container-fluid">
      <a class="navbar-brand fw-bold" href="{{ url_for('admin.dashboard') }}">LMS</a>

      <!-- Theme toggle button -->
      <button id="themeToggle" type="button" class="btn btn-soft-secondary btn-icon ms-2" aria-label="Toggle dark mode"
        title="Toggle dark mode">
        <i class="bi bi-moon-fill"></i>
      </button>

      <!-- Navbar toggler for mobile -->
      <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarContent"
        aria-controls="navbarContent" aria-expanded="false" aria-label="Toggle navigation">
        <span class="navbar-toggler-icon"></span>
      </button>

      <div class="collapse navbar-collapse" id="navbarContent">
        {% block navbar %}{% endblock %}
      </div>
    </div>
  </nav>

  <div class="d-flex">
    <!-- Sidebar -->
    {% block sidebar %}{% endblock %}

    <!-- Main Content -->
    <main id="main-content" class="flex-grow-1 p-3">
      {% block content %}{% endblock %}
    </main>
  </div>

  <!-- Footer -->
  <footer class="mt-auto py-3 bg-muted border-top text-center small text-muted">
    &copy; {{ current_year }} Leave Management System
  </footer>

  <!-- Bootstrap Bundle JS (no SRI to avoid blocking in dev) -->
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.bundle.min.js"
    crossorigin="anonymous"></script>

  <!-- Theme toggle logic -->
  <script src="{{ url_for('static', filename='js/theme.js') }}"></script>

  {% block body_extras %}{% endblock %}
</body>

</html>
